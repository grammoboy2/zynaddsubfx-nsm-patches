From 7a855356e2f236c0d13a2788751e2b24388fd713 Mon Sep 17 00:00:00 2001
From: michiboo <chanmickyyun@gmail.com>
Date: Wed, 19 Jun 2019 17:18:34 +0300
Subject: [PATCH 1371/1936] prevent adding another watchpoint for differernt
 note if it is already active

---
 src/Misc/Master.cpp | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/src/Misc/Master.cpp b/src/Misc/Master.cpp
index a439894d..d6764d48 100644
--- a/src/Misc/Master.cpp
+++ b/src/Misc/Master.cpp
@@ -359,7 +359,8 @@ static const Ports automate_ports = {
 static const Ports watchPorts = {
     {"add:s", rDoc("Add synthesis state to watch"), 0,
         rBegin;
-        m->watcher.add_watch(rtosc_argument(msg,0).s);
+        if(!m->watcher.is_active(rtosc_argument(msg,0).s))
+            m->watcher.add_watch(rtosc_argument(msg,0).s);
         rEnd},
 };
 
-- 
2.47.0

