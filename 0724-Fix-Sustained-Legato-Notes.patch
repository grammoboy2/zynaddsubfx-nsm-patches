From c8ce0a0c55b77a2f0f783477b60f80a22f3972c2 Mon Sep 17 00:00:00 2001
From: fundamental <mark.d.mccurry@gmail.com>
Date: Fri, 13 Nov 2015 12:34:47 -0500
Subject: [PATCH 0724/1936] Fix Sustained Legato Notes

Resolves http://sourceforge.net/p/zynaddsubfx/bugs/104/
---
 src/Containers/NotePool.cpp | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/src/Containers/NotePool.cpp b/src/Containers/NotePool.cpp
index ac4a1303..f7135d75 100644
--- a/src/Containers/NotePool.cpp
+++ b/src/Containers/NotePool.cpp
@@ -140,7 +140,8 @@ int NotePool::getRunningNotes(void) const
     bool running[256] = {0};
     for(auto &desc:activeDesc()) {
         //printf("note!(%d)\n", desc.note);
-        if(desc.status == Part::KEY_PLAYING)
+        if(desc.status == Part::KEY_PLAYING ||
+                desc.status == Part::KEY_RELEASED_AND_SUSTAINED)
             running[desc.note] = true;
     }
 
-- 
2.47.0

