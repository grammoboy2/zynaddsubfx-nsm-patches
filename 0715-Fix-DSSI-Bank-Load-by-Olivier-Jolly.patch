From 3309452298562b55fc7d64e195398398939442cb Mon Sep 17 00:00:00 2001
From: fundamental <mark.d.mccurry@gmail.com>
Date: Mon, 9 Nov 2015 22:35:02 -0500
Subject: [PATCH 0715/1936] Fix DSSI Bank Load (by Olivier Jolly)

---
 AUTHORS.txt             | 2 +-
 src/Misc/MiddleWare.cpp | 4 ++++
 2 files changed, 5 insertions(+), 1 deletion(-)

diff --git a/AUTHORS.txt b/AUTHORS.txt
index aa7fa505..3f4a0a1c 100644
--- a/AUTHORS.txt
+++ b/AUTHORS.txt
@@ -30,4 +30,4 @@ Contributors:
         Filipe Coelho (Globals Cleanup)
         Andre Sklenar (UI Pixmaps)
         Harald Hvaal (General Code Modernization)
-
+        Olivier Jolly (DSSI Bank Load Fix)
diff --git a/src/Misc/MiddleWare.cpp b/src/Misc/MiddleWare.cpp
index b3265dac..160ca92a 100644
--- a/src/Misc/MiddleWare.cpp
+++ b/src/Misc/MiddleWare.cpp
@@ -1062,6 +1062,10 @@ static rtosc::Ports middlewareReplyPorts = {
         impl.loadPart(part, impl.master->bank.ins[program].filename.c_str(), impl.master);
         impl.uToB->write(("/part"+to_s(part)+"/Pname").c_str(), "s", impl.master->bank.ins[program].name.c_str());
         rEnd},
+    {"setbank:c", 0, 0,
+        rBegin;
+        impl.loadPendingBank(rtosc_argument(msg,0).i, impl.master->bank);
+        rEnd},
     {"undo_pause:", 0, 0, rBegin; impl.recording_undo = false; rEnd},
     {"undo_resume:", 0, 0, rBegin; impl.recording_undo = true; rEnd},
     {"undo_change", 0, 0,
-- 
2.47.0

