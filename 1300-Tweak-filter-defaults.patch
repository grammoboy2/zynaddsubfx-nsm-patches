From 2d90eae95bf398d3616ddfdc3355c327b9212199 Mon Sep 17 00:00:00 2001
From: Patrick Desaulniers <desaulniers.patrick@carrefour.cegepvicto.ca>
Date: Tue, 18 Dec 2018 20:10:48 -0500
Subject: [PATCH 1300/1936] Tweak filter defaults

---
 src/Params/ADnoteParameters.cpp  |  4 ++--
 src/Params/FilterParams.cpp      | 12 ++++++------
 src/Params/PADnoteParameters.cpp |  4 ++--
 src/Params/SUBnoteParameters.cpp |  4 ++--
 4 files changed, 12 insertions(+), 12 deletions(-)

diff --git a/src/Params/ADnoteParameters.cpp b/src/Params/ADnoteParameters.cpp
index 49cf99dc..8a66a122 100644
--- a/src/Params/ADnoteParameters.cpp
+++ b/src/Params/ADnoteParameters.cpp
@@ -331,7 +331,7 @@ static const Ports globalPorts = {
         "Punch Velocity control"),
 
     //Filter
-    rParamZyn(PFilterVelocityScale,         rShort("scale"), rDefault(64),
+    rParamZyn(PFilterVelocityScale,         rShort("scale"), rDefault(0),
         "Filter Velocity Magnitude"),
     rParamZyn(PFilterVelocityScaleFunction, rShort("sense"), rDefault(64),
         "Filter Velocity Function Shape"),
@@ -473,7 +473,7 @@ void ADnoteGlobalParam::defaults()
     Hrandgrouping = 0;
 
     /* Filter Global Parameters*/
-    PFilterVelocityScale = 64;
+    PFilterVelocityScale = 0;
     PFilterVelocityScaleFunction = 64;
     GlobalFilter->defaults();
     FilterEnvelope->defaults();
diff --git a/src/Params/FilterParams.cpp b/src/Params/FilterParams.cpp
index 6e5cfba2..3b8c93fe 100644
--- a/src/Params/FilterParams.cpp
+++ b/src/Params/FilterParams.cpp
@@ -86,9 +86,9 @@ const rtosc::Ports FilterParams::ports = {
     rParamF(basefreq,           rShort("cutoff"),
             rUnit(Hz),    rLog(31.25, 32000),
             rDefaultDepends(loc),
-            rPreset(ad_global_filter, 0x1.3d434p+12),
-            rPreset(ad_voice_filter, 0x1.d48ab6p+8),
-            rPreset(sub_filter, 0x1.294d3ep+11),
+            rPreset(ad_global_filter, 32000),
+            rPreset(ad_voice_filter, 32000),
+            rPreset(sub_filter, 32000),
             rPreset(in_effect, 0x1.f3fffcp+9),
             "Base cutoff frequency"),
     rParamF(freqtracking,       rShort("f.track"), rUnit(%),
@@ -355,9 +355,9 @@ FilterParams::FilterParams(consumer_location_t loc,
 
     switch(loc)
     {
-        case ad_global_filter:  init(2, 94, 40); break;
-        case ad_voice_filter:   init(2, 50, 60); break;
-        case sub_filter:        init(2, 80, 40); break;
+        case ad_global_filter:  init(2, 127, 40); break;
+        case ad_voice_filter:   init(2, 127, 60); break;
+        case sub_filter:        init(2, 127, 40); break;
         case in_effect:         init(0, 64, 64); break;
         default: throw std::logic_error("Invalid filter consumer location");
     }
diff --git a/src/Params/PADnoteParameters.cpp b/src/Params/PADnoteParameters.cpp
index cc93c856..971d58ac 100644
--- a/src/Params/PADnoteParameters.cpp
+++ b/src/Params/PADnoteParameters.cpp
@@ -63,7 +63,7 @@ static const rtosc::Ports realtime_ports =
         "Punch Velocity control"),
 
     //Filter
-    rParamZyn(PFilterVelocityScale,         rShort("scale"), rDefault(64),
+    rParamZyn(PFilterVelocityScale,         rShort("scale"), rDefault(0),
         "Filter Velocity Magnitude"),
     rParamZyn(PFilterVelocityScaleFunction, rShort("sense"), rDefault(64),
         "Filter Velocity Function Shape"),
@@ -407,7 +407,7 @@ void PADnoteParameters::defaults()
     PPunchVelocitySensing = 72;
 
     /* Filter Global Parameters*/
-    PFilterVelocityScale = 64;
+    PFilterVelocityScale = 0;
     PFilterVelocityScaleFunction = 64;
     GlobalFilter->defaults();
     FilterEnvelope->defaults();
diff --git a/src/Params/SUBnoteParameters.cpp b/src/Params/SUBnoteParameters.cpp
index 6479e879..393f0edd 100644
--- a/src/Params/SUBnoteParameters.cpp
+++ b/src/Params/SUBnoteParameters.cpp
@@ -55,7 +55,7 @@ static const rtosc::Ports SUBnotePorts = {
         "Enable for Bandwidth Envelope"),
     rToggle(PGlobalFilterEnabled,                 rShort("enable"),
         rDefault(false), "Enable for Global Filter"),
-    rParamZyn(PGlobalFilterVelocityScale,         rShort("scale"), rDefault(64),
+    rParamZyn(PGlobalFilterVelocityScale,         rShort("scale"), rDefault(0),
         "Filter Velocity Magnitude"),
     rParamZyn(PGlobalFilterVelocityScaleFunction, rShort("sense"), rDefault(64),
         "Filter Velocity Function Shape"),
@@ -304,7 +304,7 @@ void SUBnoteParameters::defaults()
     Phmag[0] = 127;
 
     PGlobalFilterEnabled = 0;
-    PGlobalFilterVelocityScale = 64;
+    PGlobalFilterVelocityScale = 0;
     PGlobalFilterVelocityScaleFunction = 64;
 
     AmpEnvelope->defaults();
-- 
2.47.0

