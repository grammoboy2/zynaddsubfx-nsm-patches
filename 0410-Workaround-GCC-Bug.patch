From d200abb8585f9df04d11297c570b779d4f4cfe75 Mon Sep 17 00:00:00 2001
From: fundamental <mark.d.mccurry@gmail.com>
Date: Fri, 17 Apr 2015 10:01:56 -0400
Subject: [PATCH 0410/1936] Workaround GCC Bug

https://gcc.gnu.org/bugzilla/show_bug.cgi?id=65727
---
 src/Misc/Master.cpp | 3 ++-
 src/Misc/Master.h   | 2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/src/Misc/Master.cpp b/src/Misc/Master.cpp
index 3a23a681..7d6d7e8f 100644
--- a/src/Misc/Master.cpp
+++ b/src/Misc/Master.cpp
@@ -99,7 +99,7 @@ static Ports sysefsendto =
         }}
 };
 
-Ports Master::ports = {
+static Ports master_ports = {
     rRecursp(part, 16, "Part"),//NUM_MIDI_PARTS
     rRecursp(sysefx, 4, "System Effect"),//NUM_SYS_EFX
     rRecursp(insefx, 8, "Insertion Effect"),//NUM_INS_EFX
@@ -209,6 +209,7 @@ Ports Master::ports = {
     {"undo_resume",0,0,[](const char *, rtosc::RtData &d)
         {d.reply("/undo_resume", "");}},
 };
+Ports &Master::ports = master_ports;
 
 //XXX HACKS
 Master *the_master;
diff --git a/src/Misc/Master.h b/src/Misc/Master.h
index 908d15ba..e20caceb 100644
--- a/src/Misc/Master.h
+++ b/src/Misc/Master.h
@@ -156,7 +156,7 @@ class Master
 
         class FFTwrapper * fft;
 
-        static rtosc::Ports ports;
+        static rtosc::Ports &ports;
         float  volume;
 
         //Statistics on output levels
-- 
2.47.0

