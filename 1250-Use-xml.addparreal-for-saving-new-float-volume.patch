From 35574439dc1dacf3a6eb0b513acd640a7dc24fb5 Mon Sep 17 00:00:00 2001
From: Daniel Sheeler <dsheeler@pobox.com>
Date: Sat, 10 Feb 2018 14:42:09 -0600
Subject: [PATCH 1250/1936] Use xml.addparreal for saving new float volume

---
 src/Params/ADnoteParameters.cpp | 2 +-
 src/Tests/guitar-adnote.xmz     | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/Params/ADnoteParameters.cpp b/src/Params/ADnoteParameters.cpp
index 94646f99..293930fe 100644
--- a/src/Params/ADnoteParameters.cpp
+++ b/src/Params/ADnoteParameters.cpp
@@ -799,7 +799,7 @@ void ADnoteVoiceParam::add2XML(XMLwrapper& xml, bool fmoscilused)
         xml.beginbranch("FM_PARAMETERS");
         xml.addpar("input_voice", PFMVoice);
 
-        xml.addpar("volume", FMvolume);
+        xml.addparreal("volume", FMvolume);
         xml.addpar("volume_damp", PFMVolumeDamp);
         xml.addpar("velocity_sensing",
                     PFMVelocityScaleFunction);
diff --git a/src/Tests/guitar-adnote.xmz b/src/Tests/guitar-adnote.xmz
index 7364530a..16c335f2 100644
--- a/src/Tests/guitar-adnote.xmz
+++ b/src/Tests/guitar-adnote.xmz
@@ -349,7 +349,7 @@ version-revision="3" ZynAddSubFX-author="Nasca Octavian Paul">
 </FILTER_PARAMETERS>
 <FM_PARAMETERS>
 <par name="input_voice" value="-1" />
-<par name="volume" value="46" />
+<par_real name="volume" value="36.2205" exact_value="0x4210E1C3" />
 <par name="volume_damp" value="36" />
 <par name="velocity_sensing" value="92" />
 <par_bool name="amp_envelope_enabled" value="yes" />
-- 
2.47.0

