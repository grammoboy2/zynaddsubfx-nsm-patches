From 40df13c3e22b6d004fdf3eb1f9f80a658471dbd9 Mon Sep 17 00:00:00 2001
From: fundamental <mark.d.mccurry@gmail.com>
Date: Sat, 1 Nov 2014 11:11:41 -0400
Subject: [PATCH 0280/1936] Fix Invalid Deallocation in Reverb

---
 src/Effects/Reverb.cpp | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/src/Effects/Reverb.cpp b/src/Effects/Reverb.cpp
index 6bcb45e4..e841bf1c 100644
--- a/src/Effects/Reverb.cpp
+++ b/src/Effects/Reverb.cpp
@@ -337,8 +337,7 @@ void Reverb::settype(unsigned char _Ptype)
         memory.devalloc(ap[i]);
         ap[i] = memory.valloc<float>(aplen[i]);
     }
-    delete bandwidth;
-    bandwidth = NULL;
+    memory.dealloc(bandwidth);
     if(Ptype == 2) { //bandwidth
         //TODO the size of the unison buffer may be too small, though this has
         //not been verified yet.
-- 
2.47.0

