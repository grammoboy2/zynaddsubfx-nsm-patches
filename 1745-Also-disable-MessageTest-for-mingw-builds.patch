From cac2fa7002c88537c4f23cd5d22c8b4f203a8835 Mon Sep 17 00:00:00 2001
From: fundamental <mark.d.mccurry@gmail.com>
Date: Sun, 13 Jun 2021 15:51:09 -0400
Subject: [PATCH 1745/1936] Also disable MessageTest for mingw builds

---
 src/Tests/CMakeLists.txt | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

diff --git a/src/Tests/CMakeLists.txt b/src/Tests/CMakeLists.txt
index cd088696..35bdfb7e 100644
--- a/src/Tests/CMakeLists.txt
+++ b/src/Tests/CMakeLists.txt
@@ -46,10 +46,6 @@ quick_test(MiddlewareTest zynaddsubfx_core zynaddsubfx_nio
                           zynaddsubfx_gui_bridge
                           ${GUI_LIBRARIES} ${NIO_LIBRARIES} ${AUDIO_LIBRARIES}
                           ${PLATFORM_LIBRARIES})
-quick_test(MessageTest zynaddsubfx_core zynaddsubfx_nio
-                       zynaddsubfx_gui_bridge
-                       ${GUI_LIBRARIES} ${NIO_LIBRARIES} ${AUDIO_LIBRARIES}
-                       ${PLATFORM_LIBRARIES})
 
 #Testbed app
 
@@ -57,6 +53,11 @@ if(NOT (${CMAKE_SYSTEM_NAME} STREQUAL "Windows"))
 
     #std::thread issues with mingw vvvvv
     quick_test(MqTest           ${test_lib})
+    #same std::thread mingw issue
+    quick_test(MessageTest zynaddsubfx_core zynaddsubfx_nio
+                           zynaddsubfx_gui_bridge
+                           ${GUI_LIBRARIES} ${NIO_LIBRARIES} ${AUDIO_LIBRARIES}
+                           ${PLATFORM_LIBRARIES})
 
     add_executable(ins-test InstrumentStats.cpp)
     target_link_libraries(ins-test ${test_lib} rt)
-- 
2.47.0

