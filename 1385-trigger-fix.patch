From 46012a084ef283ef11fc9f851c6a4b463e7db464 Mon Sep 17 00:00:00 2001
From: michiboo <chanmickyyun@gmail.com>
Date: Mon, 1 Jul 2019 14:48:54 +0300
Subject: [PATCH 1385/1936] trigger fix

---
 src/Synth/WatchPoint.cpp | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/src/Synth/WatchPoint.cpp b/src/Synth/WatchPoint.cpp
index 7f9ab802..29a0290f 100644
--- a/src/Synth/WatchPoint.cpp
+++ b/src/Synth/WatchPoint.cpp
@@ -183,7 +183,10 @@ void WatchManager::satisfy(const char *id, float *f, int n)
                     sample_list[selected]++;
                 }
             else{
-                 if(trigger[selected] || f[i-1] <= 0 && f[i] > 0){
+                if(i == 0)
+                    i += 1;
+
+                if(trigger[selected] || f[i-1] <= 0 && f[i] > 0){
                     data_list[selected][sample_list[selected]] = f[i];
                     sample_list[selected]++;
                     trigger[selected] = true;
-- 
2.47.0

