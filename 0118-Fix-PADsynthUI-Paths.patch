From ff47364db4db9d3fe7534a89eaded6d77ee53f42 Mon Sep 17 00:00:00 2001
From: fundamental <mark.d.mccurry@gmail.com>
Date: Sun, 11 Aug 2013 17:14:16 -0400
Subject: [PATCH 0118/1936] Fix PADsynthUI Paths

---
 src/Misc/MiddleWare.cpp          |  3 ++-
 src/Params/PADnoteParameters.cpp |  4 ++--
 src/UI/PADnoteUI.fl              | 10 ++++++----
 src/UI/PartUI.fl                 |  2 +-
 4 files changed, 11 insertions(+), 8 deletions(-)

diff --git a/src/Misc/MiddleWare.cpp b/src/Misc/MiddleWare.cpp
index a92978a7..74273863 100644
--- a/src/Misc/MiddleWare.cpp
+++ b/src/Misc/MiddleWare.cpp
@@ -661,7 +661,8 @@ class UI_Interface:public Fl_Osc_Interface
             if(found_count == 0 
                     && strcmp(msg, "/vu-meter")
                     && strcmp(msg, "undo_change")
-                    && !strstr(msg, "parameter")) {
+                    && !strstr(msg, "parameter")
+                    && !strstr(msg, "Prespoint")) {
                 fprintf(stderr, "%c[%d;%d;%dm", 0x1B, 1, 7 + 30, 0 + 40);
                 fprintf(stderr, "Unknown widget '%s'\n", msg);
                 fprintf(stderr, "%c[%d;%d;%dm", 0x1B, 0, 7 + 30, 0 + 40);
diff --git a/src/Params/PADnoteParameters.cpp b/src/Params/PADnoteParameters.cpp
index fe735b64..53aaa2a0 100644
--- a/src/Params/PADnoteParameters.cpp
+++ b/src/Params/PADnoteParameters.cpp
@@ -72,7 +72,7 @@ static rtosc::Ports localPorts =
     PC(hp.amp.type),
     PC(hp.amp.par1),
     PC(hp.amp.par2),
-    //TODO autoscale
+    rToggle(Php.autoscale, "Autoscaling Harmonics"),
     PC(hp.onehalf),
 
     PC(bandwidth),
@@ -95,7 +95,7 @@ static rtosc::Ports localPorts =
     PC(Stereo),
     PC(Panning),
     PC(AmpVelocityScaleFunction),
-    PC(PunchStretch),
+    PC(PunchStrength),
     PC(PunchTime),
     PC(PunchStretch),
     PC(PunchVelocitySensing),
diff --git a/src/UI/PADnoteUI.fl b/src/UI/PADnoteUI.fl
index 2c8e91c5..65765804 100644
--- a/src/UI/PADnoteUI.fl
+++ b/src/UI/PADnoteUI.fl
@@ -235,8 +235,10 @@ cbwidget->do_callback();}
             }
             Fl_Check_Button hpautoscale {
               label autoscale
-              callback {hprofile->redraw();
-cbwidget->do_callback();}
+              callback {
+              if(initialized) {
+                  hprofile->redraw();
+              cbwidget->do_callback();}}
               xywh {10 270 60 15} down_box DOWN_BOX labelsize 10
               code0 {o->init("Php.autoscale");}
               class Fl_Osc_Check
@@ -272,8 +274,8 @@ cbwidget->do_callback();}
           }
           Fl_Group oscilgroup {open
             xywh {100 155 270 135} box THIN_DOWN_BOX color 32 selection_color 71 labelcolor 179 align 6
-            code0 {osc=new Fl_Oscilloscope(o->x(),o->y(),o->w(),o->h(),"");}
-            code1 {oscilgroup->base = location; oscilgroup->ext="oscil/"; oscilgroup->osc = osc_i;osc->init(false);}
+            code0 {oscilgroup->base = location; oscilgroup->ext="oscil/"; oscilgroup->osc = osc_i;}
+            code1 {osc=new Fl_Oscilloscope(o->x(),o->y(),o->w(),o->h(),"");osc->init(false);}
             class Fl_Osc_Group
           } {}
           Fl_Button {} {
diff --git a/src/UI/PartUI.fl b/src/UI/PartUI.fl
index ce75c059..2cbdb51a 100644
--- a/src/UI/PartUI.fl
+++ b/src/UI/PartUI.fl
@@ -1038,7 +1038,7 @@ if (kititem!=lastkititem){
        subnoteui=new SUBnoteUI(osc, loc+"kit"+to_s(kititem)+"/subpars/");
 
     if(padsynenabledcheck->value())
-      padnoteui=new PADnoteUI(loc+"kit"+to_s(kititem)+"/padpars", osc);
+      padnoteui=new PADnoteUI(loc+"kit"+to_s(kititem)+"/padpars/", osc);
 };
 
 
-- 
2.47.0

