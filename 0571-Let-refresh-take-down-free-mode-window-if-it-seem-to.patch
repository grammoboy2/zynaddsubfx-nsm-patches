From 3506158d0114abd777ec48f7b125eb76122a4628 Mon Sep 17 00:00:00 2001
From: "Christopher A. Oliver" <caowasteland@gmail.com>
Date: Tue, 6 Oct 2015 03:26:24 -0400
Subject: [PATCH 0571/1936] Let refresh() take down free mode window if it seem
 to not be needed.

---
 src/UI/EnvelopeUI.fl | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/src/UI/EnvelopeUI.fl b/src/UI/EnvelopeUI.fl
index 1e199004..795670c0 100644
--- a/src/UI/EnvelopeUI.fl
+++ b/src/UI/EnvelopeUI.fl
@@ -605,7 +605,8 @@ envfree->hide();
 
 if (freemodehack->value())
    envwindow=envfree;
-else
+else {
+   freemodeeditwindow->hide();
    switch(Envmode){
          case 1:
          case 2:
@@ -622,7 +623,8 @@ else
          break;
          default:
          break; 
-   };
+   }
+}
 
 assert(envwindow);
 envwindow->resize(this->x(),this->y(),this->w(),this->h());
-- 
2.47.0

