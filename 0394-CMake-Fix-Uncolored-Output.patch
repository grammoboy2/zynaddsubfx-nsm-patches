From e104134f51586f752fe445184beb6012ad169c19 Mon Sep 17 00:00:00 2001
From: fundamental <mark.d.mccurry@gmail.com>
Date: Sun, 15 Mar 2015 10:10:38 -0400
Subject: [PATCH 0394/1936] CMake: Fix Uncolored Output

---
 src/CMakeLists.txt | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

diff --git a/src/CMakeLists.txt b/src/CMakeLists.txt
index 94cefb69..91eb594a 100644
--- a/src/CMakeLists.txt
+++ b/src/CMakeLists.txt
@@ -408,7 +408,12 @@ message(STATUS)
 message(STATUS "Building on a '${CMAKE_SYSTEM_NAME}' System")
 
 
-macro(package_status foundvar pkg state color)
+macro(package_status foundvar pkg state)#optional color
+    set (extra_macro_args ${ARGN})
+    list(LENGTH extra_macro_args num_extra_args)
+    if (${num_extra_args} GREATER 0)
+        list(GET extra_macro_args 0 color)
+    endif ()
     if(${foundvar})
         message(STATUS "${pkg} -- ${Green}${state}${ColorReset}")
     else()
-- 
2.47.0

