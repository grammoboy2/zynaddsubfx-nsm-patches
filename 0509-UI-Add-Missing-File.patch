From f635853137d228383738a706e86089e8eb407a5a Mon Sep 17 00:00:00 2001
From: fundamental <mark.d.mccurry@gmail.com>
Date: Thu, 18 Jun 2015 15:11:49 -0400
Subject: [PATCH 0509/1936] UI: Add Missing File...

---
 src/UI/Osc_IntModel.h | 45 +++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 45 insertions(+)
 create mode 100644 src/UI/Osc_IntModel.h

diff --git a/src/UI/Osc_IntModel.h b/src/UI/Osc_IntModel.h
new file mode 100644
index 00000000..4fe297b6
--- /dev/null
+++ b/src/UI/Osc_IntModel.h
@@ -0,0 +1,45 @@
+#pragma once
+#include "Fl_Osc_Widget.H"
+#include <functional>
+#include <vector>
+#include <rtosc/rtosc.h>
+
+class Osc_IntModel:public Fl_Osc_Widget
+{
+    public:
+        Osc_IntModel(Fl_Osc_Interface *osc_)
+            :Fl_Osc_Widget("", osc_), value(0)
+        {
+            assert(osc);
+        }
+
+        typedef int value_t;
+        value_t value;
+        std::function<void(value_t)> callback;
+
+        void updateVal(value_t v)
+        {
+            value = v;
+            oscWrite(ext, "i", v);
+        }
+
+        void update(std::string url)
+        {
+            if(!ext.empty())
+                osc->removeLink(this);
+            ext = url;
+
+            oscRegister(ext.c_str());
+        }
+        
+        //Raw messages
+        virtual void OSC_raw(const char *msg)
+        {
+            std::string args = rtosc_argument_string(msg);
+            if(args == "i") {
+                value = rtosc_argument(msg, 0).i;
+                if(callback)
+                    callback(value);
+            }
+        }
+};
-- 
2.47.0

