From 677ff5a7aa2fb96c445d899d0672bd9d1154dfca Mon Sep 17 00:00:00 2001
From: fundamental <mark.d.mccurry@gmail.com>
Date: Tue, 19 Jul 2016 14:08:33 -0400
Subject: [PATCH 0956/1936] Update Dynamic Filter Metadata

---
 src/Effects/DynamicFilter.cpp | 40 +++++++----------------------------
 src/Effects/EffectMgr.cpp     |  1 +
 2 files changed, 9 insertions(+), 32 deletions(-)

diff --git a/src/Effects/DynamicFilter.cpp b/src/Effects/DynamicFilter.cpp
index 277380bf..1fec27ef 100644
--- a/src/Effects/DynamicFilter.cpp
+++ b/src/Effects/DynamicFilter.cpp
@@ -29,38 +29,14 @@ rtosc::Ports DynamicFilter::ports = {
                   rBegin;
                   rEnd},
     //Pvolume/Ppanning are common
-    {"Pfreq::i", rShort("freq")
-                   rDoc("Effect Frequency"), 0,
-                   rBegin;
-                   rEnd},
-    {"Pfreqrnd::i", rShort("rand")
-                    rDoc("Frequency Randomness"), 0,
-                    rBegin;
-                    rEnd},
-    {"PLFOtype::i", rShort("shape")
-                    rDoc("LFO Shape"), 0,
-                    rBegin;
-                    rEnd},
-    {"PStereo::T:F", rShort("stereo")
-                     rDoc("Stereo/Mono Mode"), 0,
-                     rBegin;
-                     rEnd},
-    {"Pdepth::i", rShort("depth")
-                  rDoc("LFO Depth"), 0,
-                  rBegin;
-                  rEnd},
-    {"Pampsns::i", rShort("sense")
-                  rDoc("how the filter varies according to the input amplitude"), 0,
-                  rBegin;
-                  rEnd},
-    {"Pampsnsinv::T:F", rShort("sns.inv")
-                   rDoc("Sense Inversion"), 0,
-                   rBegin;
-                   rEnd},
-    {"Pampsmooth::i", rShort("smooth")
-                    rDoc("how smooth the input amplitude changes the filter"), 0,
-                    rBegin;
-                    rEnd},
+    rEffPar(Pfreq,      2, rShort("freq"),      "Effect Frequency"),
+    rEffPar(Pfreqrnd,   3, rShort("rand"),      "Frequency Randomness"),
+    rEffPar(PLFOtype,   4, rShort("shape"),     "LFO Shape"),
+    rEffPar(PStereo,    5, rShort("stereo"),    "Stereo/Mono Mode"),
+    rEffPar(Pdepth,     6, rShort("depth"),     "LFO Depth"),
+    rEffPar(Pampsns,    7, rShort("sense"),     "how the filter varies according to the input amplitude"),
+    rEffPar(Pampsnsinv, 8, rShort("sns.inv"),   "Sense Inversion"),
+    rEffPar(Pampsmooth, 9, rShort("smooth"),    "how smooth the input amplitude changes the filter"),
 };
 #undef rBegin
 #undef rEnd
diff --git a/src/Effects/EffectMgr.cpp b/src/Effects/EffectMgr.cpp
index d91254fc..2c3bc6d9 100644
--- a/src/Effects/EffectMgr.cpp
+++ b/src/Effects/EffectMgr.cpp
@@ -134,6 +134,7 @@ static const rtosc::Ports local_ports = {
     rSubtype(Alienwah),
     rSubtype(Chorus),
     rSubtype(Distorsion),
+    rSubtype(DynamicFilter),
     rSubtype(Echo),
     rSubtype(EQ),
     rSubtype(Phaser),
-- 
2.47.0

