From 82f7efced7941df2d8739dac20133fcff0a9669c Mon Sep 17 00:00:00 2001
From: "Christopher A. Oliver" <oliver@onion.private>
Date: Sat, 9 May 2015 13:07:44 -0400
Subject: [PATCH 0458/1936] NULL test the name change dialog in case user
 cancels.

NIX old direct access code.
---
 src/UI/PartUI.fl | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

diff --git a/src/UI/PartUI.fl b/src/UI/PartUI.fl
index a20cd168..1f4613f2 100644
--- a/src/UI/PartUI.fl
+++ b/src/UI/PartUI.fl
@@ -279,10 +279,9 @@ class PartUI {open : {public Fl_Osc_Group}
           label {Grand Piano}
           callback {int event=Fl::event_button();
 if (event==FL_RIGHT_MOUSE){
-   fprintf(stderr, "Unimplemented...\\n");
    const char *tmp=fl_input("Instrument name:",o->label());
-   o->oscWrite("Pname", "s", tmp);
-   /*if (tmp!=NULL) snprintf((char *)part->Pname,PART_MAX_NAME_LEN,"%s",tmp);*/
+   if (tmp!=NULL)
+       o->oscWrite("Pname", "s", tmp);
 } else {
   if (event==FL_LEFT_MOUSE) bankui->show();
        else instrumenteditwindow->show();
-- 
2.47.0

