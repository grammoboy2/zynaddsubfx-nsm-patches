From 5fbde4321f1874a570aa10f16c7eefaaa2c0a902 Mon Sep 17 00:00:00 2001
From: "Christopher A. Oliver" <caowasteland@gmail.com>
Date: Sun, 29 Nov 2015 21:58:21 -0500
Subject: [PATCH 0773/1936] Make fixed offset 15Hz rather than 25.

---
 src/Synth/ADnote.cpp  | 2 +-
 src/Synth/PADnote.cpp | 2 +-
 src/Synth/SUBnote.cpp | 2 +-
 src/UI/ADnoteUI.fl    | 2 +-
 src/UI/PADnoteUI.fl   | 2 +-
 src/UI/SUBnoteUI.fl   | 2 +-
 6 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/src/Synth/ADnote.cpp b/src/Synth/ADnote.cpp
index db0dae8c..1d13d294 100644
--- a/src/Synth/ADnote.cpp
+++ b/src/Synth/ADnote.cpp
@@ -113,7 +113,7 @@ ADnote::ADnote(ADnoteParameters *pars_, SynthParams &spars)
 
         float offset_val = (pars.VoicePar[nvoice].POffsetHz - 64)/64.0f;
         NoteVoicePar[nvoice].OffsetHz =
-            25.0f*(offset_val * sqrtf(fabsf(offset_val)));
+            15.0f*(offset_val * sqrtf(fabsf(offset_val)));
 
         unison_stereo_spread[nvoice] =
             pars.VoicePar[nvoice].Unison_stereo_spread / 127.0f;
diff --git a/src/Synth/PADnote.cpp b/src/Synth/PADnote.cpp
index ac66bfd5..27ae76e6 100644
--- a/src/Synth/PADnote.cpp
+++ b/src/Synth/PADnote.cpp
@@ -69,7 +69,7 @@ void PADnote::setup(float freq,
     else
         BendAdjust = BendAdj / 24.0f;
     float offset_val = (pars.POffsetHz - 64)/64.0f;
-    OffsetHz = 25.0f*(offset_val * sqrtf(fabsf(offset_val)));
+    OffsetHz = 15.0f*(offset_val * sqrtf(fabsf(offset_val)));
     firsttime = true;
     realfreq  = basefreq;
     if(!legato)
diff --git a/src/Synth/SUBnote.cpp b/src/Synth/SUBnote.cpp
index 555aa874..743a5c11 100644
--- a/src/Synth/SUBnote.cpp
+++ b/src/Synth/SUBnote.cpp
@@ -84,7 +84,7 @@ void SUBnote::setup(float freq,
     else
         BendAdjust = BendAdj / 24.0f;
     float offset_val = (pars.POffsetHz - 64)/64.0f;
-    OffsetHz = 25.0f*(offset_val * sqrtf(fabsf(offset_val)));
+    OffsetHz = 15.0f*(offset_val * sqrtf(fabsf(offset_val)));
     float detune = getdetune(pars.PDetuneType,
                              pars.PCoarseDetune,
                              pars.PDetune);
diff --git a/src/UI/ADnoteUI.fl b/src/UI/ADnoteUI.fl
index f5bcf6e8..c231e861 100644
--- a/src/UI/ADnoteUI.fl
+++ b/src/UI/ADnoteUI.fl
@@ -578,7 +578,7 @@ o->redraw();}
             Fl_Dial offsethzdial {
               label Offset
               tooltip {Offset of frequency in Hz} xywh {110 270 15 15} box ROUND_UP_BOX labelsize 10 align 8 minimum -64 maximum 63 step 1
-              code0 {o->init("POffsetHz"); o->set_rounding(2); o->set_transform([](float x){x/=64; return 25*(x*sqrtf(fabsf(x)));});}
+              code0 {o->init("POffsetHz"); o->set_rounding(2); o->set_transform([](float x){x/=64; return 15*(x*sqrtf(fabsf(x)));});}
               class Fl_Osc_Dial
             }
             Fl_Slider {} {
diff --git a/src/UI/PADnoteUI.fl b/src/UI/PADnoteUI.fl
index 5119ed90..8758f5ad 100644
--- a/src/UI/PADnoteUI.fl
+++ b/src/UI/PADnoteUI.fl
@@ -718,7 +718,7 @@ cbwidget->do_callback();}
             Fl_Dial offsethzdial {
               label Offset
               tooltip {Offset of frequency in Hz} xywh {110 278 15 15} box ROUND_UP_BOX labelsize 10 align 8 minimum -64 maximum 63 step 1
-              code0 {o->init("POffsetHz"); o->set_rounding(2); o->set_transform([](float x){x/=64; return 25*(x*sqrtf(fabsf(x)));});}
+              code0 {o->init("POffsetHz"); o->set_rounding(2); o->set_transform([](float x){x/=64; return 15*(x*sqrtf(fabsf(x)));});}
               class Fl_Osc_Dial
             }
             Fl_Check_Button hz440 {
diff --git a/src/UI/SUBnoteUI.fl b/src/UI/SUBnoteUI.fl
index 14085eeb..0744ced3 100644
--- a/src/UI/SUBnoteUI.fl
+++ b/src/UI/SUBnoteUI.fl
@@ -296,7 +296,7 @@ freqsettingsui->redraw();}
         Fl_Dial offsethzdial {
           label Offset
           tooltip {Offset of frequency in Hz} xywh {500 53 15 15} box ROUND_UP_BOX labelsize 10 align 8 minimum -64 maximum 63 step 1
-          code0 {o->init("POffsetHz"); o->set_rounding(2); o->set_transform([](float x){x/=64; return 25*(x*sqrtf(fabsf(x)));});}
+          code0 {o->init("POffsetHz"); o->set_rounding(2); o->set_transform([](float x){x/=64; return 15*(x*sqrtf(fabsf(x)));});}
           class Fl_Osc_Dial
         }
         Fl_Check_Button hz440 {
-- 
2.47.0

