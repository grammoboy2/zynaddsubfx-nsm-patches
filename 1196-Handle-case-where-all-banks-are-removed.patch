From 262ba1332145ab1999857bec2517f368446b1ba0 Mon Sep 17 00:00:00 2001
From: Hans Petter Selasky <hps@selasky.org>
Date: Wed, 2 Aug 2017 23:35:18 +0200
Subject: [PATCH 1196/1936] Handle case where all banks are removed.

Signed-off-by: Hans Petter Selasky <hps@selasky.org>
---
 src/Misc/MiddleWare.cpp | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/src/Misc/MiddleWare.cpp b/src/Misc/MiddleWare.cpp
index 5b5c1cd8..e4c009dc 100644
--- a/src/Misc/MiddleWare.cpp
+++ b/src/Misc/MiddleWare.cpp
@@ -905,6 +905,11 @@ const rtosc::Ports bankPorts = {
                     i, impl.ins[i].name.c_str(),
                     impl.ins[i].filename.c_str());
             }
+        } else {
+            //Clear all bank slots
+            for(int i=0; i<BANK_SIZE; ++i) {
+                d.reply("/bankview", "iss", i, "", "");
+            }
         }
         rEnd},
     {"bank_list:", 0, 0,
-- 
2.47.0

