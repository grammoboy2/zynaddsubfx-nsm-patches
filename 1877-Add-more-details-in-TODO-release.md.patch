From fc1a32656406f620ff8be6eeedb6e40a949c567b Mon Sep 17 00:00:00 2001
From: Philippe Gervais <philippe.n.gervais@free.fr>
Date: Sat, 1 Apr 2023 20:05:07 +0200
Subject: [PATCH 1877/1936] Add more details in TODO-release.md

---
 TODO-release.md | 25 ++++++++++++++++++++++---
 1 file changed, 22 insertions(+), 3 deletions(-)

diff --git a/TODO-release.md b/TODO-release.md
index 7312276c..b13c2bf7 100644
--- a/TODO-release.md
+++ b/TODO-release.md
@@ -1,11 +1,30 @@
 # This is a list of things to do when releasing a new version.
 
+## Preparation
+
 - Update version number in CMakeLists.txt
 - Update version number in src/Tests/guitar-adnote.xmz
-- Update news on sourceforge website
-- Upload source tarball to sourceforge website
-- Update the "Linux/BSD/Source" link on http://zynaddsubfx.sourceforge.net/download.html (do that here : https://github.com/zynaddsubfx/zyn-website/blob/master/download.html )
 - Update Copyright (mainly YEAR) info in src/UI/MasterUI.fl (note this is mentioned 2 times on line 5 and line 872)
+- Update AUTHORS.txt to included new contributors since the last release
 - Check and update (if needed) the manpage file : doc/zynaddsubfx.1.txt
+- Check NEWS.txt contains all the changes since the previous version
+
+## Build and test a release candidate
+
+All applies to the 4 UI options: no-gui, fltk, ntk and zyn-fusion.
+
+- Check the code builds on Linux, Mac and Windows (standalone and plugin versions)
+- Check the docker containers produce binaries
+- Check the code runs on Linux, Mac and Windows (standalone and plugin versions)
+
+Then tag the release git commit with the version number.
+
+## Publish the new version
+
+- Build tarballs
+- Upload source tarball to sourceforge website
+- Update the "Linux/BSD/Source" link on http://zynaddsubfx.sourceforge.net/download.html (do that here : https://github.com/zynaddsubfx/zyn-website/blob/master/download.html)
+
+- Update news on sourceforge website (https://zynaddsubfx.sourceforge.io/news.html)
 - Issue release announcement to linux-audio-announce, zynaddsubfx-user, kvr,
   linux-musicians
-- 
2.47.0

